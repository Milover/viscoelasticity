/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2106                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "system";
    object      fvSolution;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

gamg_config
{
	solver					GAMG;
	//smoother				GaussSeidel;
	smoother				FDIC;

	minIter					2;
	maxIter					50;
	nPreSweeps				1;
	nPostSweeps				2;
	nFinestSweeps			2;

	scaleCorrection			true;
	interpolateCorrection	false;
	directSolverCoarsestLevel false;

	coarsestLevelCorr
	{
		solver				PCG;
		preconditioner		DIC;

		relTol				0.075;
	}

	agglomerator			faceAreaPair;
	cacheAgllomeration		true;
	nCellsInCoarsestLevel	512;
	mergeLevels				1;
}

pcg_config
{
	solver					PCG;
	preconditioner			FDIC;

	minIter					2;
}

pbicgstab_config
{
	solver					PBiCGStab;
	preconditioner			DILU;

	minIter					1;
}

pbicccg_config
{
	type					coupled;
	solver					PBiCCCG;
	preconditioner			DILU;

	minIter					1;
}


solvers
{
	p
	{
		$gamg_config

		tolerance				1e-07;
		relTol					1e-3;
	}

	pFinal
	{
		$gamg_config

		tolerance				1e-07;
		relTol					0;
	}
/*
	"(U|tau.*)"
	{
		$pbicgstab_config

		tolerance				1e-08;
		relTol					1e-4;
	}

	"(U|tau.*)Final"
	{
		$pbicgstab_config

		tolerance				1e-8;
		relTol					0;
	}
*/
	U
	{
		$pbicccg_config

		tolerance				(1e-8 1e-8 1e-8);
		relTol					(1e-4 1e-4 1e-4);
	}

	UFinal
	{
		$pbicccg_config

		tolerance				(1e-8 1e-8 1e-8);
		relTol					(0 0 0);
	}

	"tau.*"
	{
		$pbicgstab_config

		tolerance				1e-8;
		relTol					1e-4;
	}

	"tau.*Final"
	{
		$pbicgstab_config

		tolerance				1e-8;
		relTol					0;
	}
}

SIMPLE
{
	nNonOrthogonalCorrectors 0;
	consistent			false;

	residualControl
	{
		U				1e-4;
		p				1e-4;
		"tau.*"			1e-4;
	}
}

PIMPLE
{
	correctPhi			false;
	momentumPredictor	true;

	nOuterCorrectors	250;
	nCorrectors			1;
	nNonOrthogonalCorrectors 0;

	consistent			false;

	residualControl
	{
		U
		{
			tolerance	1e-4;
			relTol		0;
		}
		p
		{
			tolerance	1e-3;
			relTol		0;
		}
		tau
		{
			tolerance	1e-3;
			relTol		0;
		}
	}
}

relaxationFactors
{
	fields
	{
		p			0.3;
		".*Final"	1;
	}

	equations
	{
		U			0.6;
		"tau.*"		0.3;
		".*Final"	1;
	}
}

cache
{
	grad(U);
}

// ************************************************************************* //
